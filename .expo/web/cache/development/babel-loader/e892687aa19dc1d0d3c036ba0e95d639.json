{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nvar _jsxFileName = \"/home/software/work/Challenge/track.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Slider } from \"react-native-web/dist/index\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Asset } from \"expo-asset\";\nimport { Audio, Video } from \"expo-av\";\nimport * as Font from \"expo-font\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\n\nvar Icon = function Icon(module, width, height) {\n  _classCallCheck(this, Icon);\n\n  this.module = module;\n  this.width = width;\n  this.height = height;\n  Asset.fromModule(this.module).downloadAsync();\n};\n\nvar PlaylistItem = function PlaylistItem(name, uri, isVideo) {\n  _classCallCheck(this, PlaylistItem);\n\n  this.name = name;\n  this.uri = uri;\n  this.isVideo = isVideo;\n};\n\nvar PLAYLIST = [new PlaylistItem(\"Comfort Fit - “Sorry”\", \"https://www.naijavibes.com/wp-content/uploads/2020/09/Tems-Damages.mp3?_=1\", false)];\nvar ICON_THROUGH_EARPIECE = \"speaker-phone\";\nvar ICON_THROUGH_SPEAKER = \"speaker\";\nvar ICON_PLAY_BUTTON = new Icon(require(\"./assets/images/play_button.png\"), 34, 51);\nvar ICON_PAUSE_BUTTON = new Icon(require(\"./assets/images/pause_button.png\"), 34, 51);\nvar ICON_STOP_BUTTON = new Icon(require(\"./assets/images/stop_button.png\"), 22, 22);\nvar ICON_FORWARD_BUTTON = new Icon(require(\"./assets/images/forward_button.png\"), 33, 25);\nvar ICON_BACK_BUTTON = new Icon(require(\"./assets/images/back_button.png\"), 33, 25);\nvar ICON_LOOP_ALL_BUTTON = new Icon(require(\"./assets/images/loop_all_button.png\"), 77, 35);\nvar ICON_LOOP_ONE_BUTTON = new Icon(require(\"./assets/images/loop_one_button.png\"), 77, 35);\nvar ICON_MUTED_BUTTON = new Icon(require(\"./assets/images/muted_button.png\"), 67, 58);\nvar ICON_UNMUTED_BUTTON = new Icon(require(\"./assets/images/unmuted_button.png\"), 67, 58);\nvar ICON_TRACK_1 = new Icon(require(\"./assets/images/track_1.png\"), 166, 5);\nvar ICON_THUMB_1 = new Icon(require(\"./assets/images/thumb_1.png\"), 18, 19);\nvar ICON_THUMB_2 = new Icon(require(\"./assets/images/thumb_2.png\"), 15, 19);\nvar LOOPING_TYPE_ALL = 0;\nvar LOOPING_TYPE_ONE = 1;\nvar LOOPING_TYPE_ICONS = {\n  0: ICON_LOOP_ALL_BUTTON,\n  1: ICON_LOOP_ONE_BUTTON\n};\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    DEVICE_WIDTH = _Dimensions$get.width,\n    DEVICE_HEIGHT = _Dimensions$get.height;\n\nvar BACKGROUND_COLOR = \"#FFF8ED\";\nvar DISABLED_OPACITY = 0.5;\nvar FONT_SIZE = 14;\nvar LOADING_STRING = \"... loading ...\";\nvar BUFFERING_STRING = \"...buffering...\";\nvar RATE_SCALE = 3.0;\nvar VIDEO_CONTAINER_HEIGHT = DEVICE_HEIGHT * 2.0 / 5.0 - FONT_SIZE * 2;\n\nvar Track = function (_React$Component) {\n  _inherits(Track, _React$Component);\n\n  var _super = _createSuper(Track);\n\n  function Track(props) {\n    var _this;\n\n    _classCallCheck(this, Track);\n\n    _this = _super.call(this, props);\n\n    _this._mountVideo = function (component) {\n      _this._video = component;\n\n      _this._loadNewPlaybackInstance(false);\n    };\n\n    _this._onPlaybackStatusUpdate = function (status) {\n      if (status.isLoaded) {\n        _this.setState({\n          playbackInstancePosition: status.positionMillis,\n          playbackInstanceDuration: status.durationMillis,\n          shouldPlay: status.shouldPlay,\n          isPlaying: status.isPlaying,\n          isBuffering: status.isBuffering,\n          rate: status.rate,\n          muted: status.isMuted,\n          volume: status.volume,\n          loopingType: status.isLooping ? LOOPING_TYPE_ONE : LOOPING_TYPE_ALL,\n          shouldCorrectPitch: status.shouldCorrectPitch\n        });\n\n        if (status.didJustFinish && !status.isLooping) {\n          _this._advanceIndex(true);\n\n          _this._updatePlaybackInstanceForIndex(true);\n        }\n      } else {\n        if (status.error) {\n          console.log(\"FATAL PLAYER ERROR: \" + status.error);\n        }\n      }\n    };\n\n    _this._onLoadStart = function () {\n      console.log(\"ON LOAD START\");\n    };\n\n    _this._onLoad = function (status) {\n      console.log(\"ON LOAD : \" + JSON.stringify(status));\n    };\n\n    _this._onError = function (error) {\n      console.log(\"ON ERROR : \" + error);\n    };\n\n    _this._onReadyForDisplay = function (event) {\n      var widestHeight = DEVICE_WIDTH * event.naturalSize.height / event.naturalSize.width;\n\n      if (widestHeight > VIDEO_CONTAINER_HEIGHT) {\n        _this.setState({\n          videoWidth: VIDEO_CONTAINER_HEIGHT * event.naturalSize.width / event.naturalSize.height,\n          videoHeight: VIDEO_CONTAINER_HEIGHT\n        });\n      } else {\n        _this.setState({\n          videoWidth: DEVICE_WIDTH,\n          videoHeight: DEVICE_WIDTH * event.naturalSize.height / event.naturalSize.width\n        });\n      }\n    };\n\n    _this._onFullscreenUpdate = function (event) {\n      console.log(\"FULLSCREEN UPDATE : \" + JSON.stringify(event.fullscreenUpdate));\n    };\n\n    _this._onPlayPausePressed = function () {\n      if (_this.playbackInstance != null) {\n        if (_this.state.isPlaying) {\n          _this.playbackInstance.pauseAsync();\n        } else {\n          _this.playbackInstance.playAsync();\n        }\n      }\n    };\n\n    _this._onStopPressed = function () {\n      if (_this.playbackInstance != null) {\n        _this.playbackInstance.stopAsync();\n      }\n    };\n\n    _this._onForwardPressed = function () {\n      if (_this.playbackInstance != null) {\n        _this._advanceIndex(true);\n\n        _this._updatePlaybackInstanceForIndex(_this.state.shouldPlay);\n      }\n    };\n\n    _this._onBackPressed = function () {\n      if (_this.playbackInstance != null) {\n        _this._advanceIndex(false);\n\n        _this._updatePlaybackInstanceForIndex(_this.state.shouldPlay);\n      }\n    };\n\n    _this._onMutePressed = function () {\n      if (_this.playbackInstance != null) {\n        _this.playbackInstance.setIsMutedAsync(!_this.state.muted);\n      }\n    };\n\n    _this._onLoopPressed = function () {\n      if (_this.playbackInstance != null) {\n        _this.playbackInstance.setIsLoopingAsync(_this.state.loopingType !== LOOPING_TYPE_ONE);\n      }\n    };\n\n    _this._onVolumeSliderValueChange = function (value) {\n      if (_this.playbackInstance != null) {\n        _this.playbackInstance.setVolumeAsync(value);\n      }\n    };\n\n    _this._trySetRate = function _callee(rate, shouldCorrectPitch) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this.playbackInstance != null)) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(_this.playbackInstance.setRateAsync(rate, shouldCorrectPitch));\n\n            case 4:\n              _context.next = 8;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](1);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 6]], Promise);\n    };\n\n    _this._onRateSliderSlidingComplete = function _callee2(value) {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this._trySetRate(value * RATE_SCALE, _this.state.shouldCorrectPitch);\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._onPitchCorrectionPressed = function _callee3(value) {\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _this._trySetRate(_this.state.rate, !_this.state.shouldCorrectPitch);\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._onSeekSliderValueChange = function (value) {\n      if (_this.playbackInstance != null && !_this.isSeeking) {\n        _this.isSeeking = true;\n        _this.shouldPlayAtEndOfSeek = _this.state.shouldPlay;\n\n        _this.playbackInstance.pauseAsync();\n      }\n    };\n\n    _this._onSeekSliderSlidingComplete = function _callee4(value) {\n      var seekPosition;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (_this.playbackInstance != null) {\n                _this.isSeeking = false;\n                seekPosition = value * _this.state.playbackInstanceDuration;\n\n                if (_this.shouldPlayAtEndOfSeek) {\n                  _this.playbackInstance.playFromPositionAsync(seekPosition);\n                } else {\n                  _this.playbackInstance.setPositionAsync(seekPosition);\n                }\n              }\n\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._onPosterPressed = function () {\n      _this.setState({\n        poster: !_this.state.poster\n      });\n    };\n\n    _this._onUseNativeControlsPressed = function () {\n      _this.setState({\n        useNativeControls: !_this.state.useNativeControls\n      });\n    };\n\n    _this._onFullscreenPressed = function () {\n      try {\n        _this._video.presentFullscreenPlayer();\n      } catch (error) {\n        console.log(error.toString());\n      }\n    };\n\n    _this._onSpeakerPressed = function () {\n      _this.setState(function (state) {\n        return {\n          throughEarpiece: !state.throughEarpiece\n        };\n      }, function (_ref) {\n        var throughEarpiece = _ref.throughEarpiece;\n        return Audio.setAudioModeAsync({\n          allowsRecordingIOS: false,\n          interruptionModeIOS: Audio.INTERRUPTION_MODE_IOS_DO_NOT_MIX,\n          playsInSilentModeIOS: true,\n          shouldDuckAndroid: true,\n          interruptionModeAndroid: Audio.INTERRUPTION_MODE_ANDROID_DO_NOT_MIX,\n          playThroughEarpieceAndroid: throughEarpiece\n        });\n      });\n    };\n\n    _this.index = 0;\n    _this.isSeeking = false;\n    _this.shouldPlayAtEndOfSeek = false;\n    _this.playbackInstance = null;\n    _this.state = {\n      showVideo: false,\n      playbackInstanceName: LOADING_STRING,\n      loopingType: LOOPING_TYPE_ALL,\n      muted: false,\n      playbackInstancePosition: null,\n      playbackInstanceDuration: null,\n      shouldPlay: false,\n      isPlaying: false,\n      isBuffering: false,\n      isLoading: true,\n      fontLoaded: false,\n      shouldCorrectPitch: true,\n      volume: 1.0,\n      rate: 1.0,\n      videoWidth: DEVICE_WIDTH,\n      videoHeight: VIDEO_CONTAINER_HEIGHT,\n      poster: false,\n      useNativeControls: false,\n      fullscreen: false,\n      throughEarpiece: false\n    };\n    return _this;\n  }\n\n  _createClass(Track, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      Audio.setAudioModeAsync({\n        allowsRecordingIOS: false,\n        staysActiveInBackground: true,\n        interruptionModeIOS: Audio.INTERRUPTION_MODE_IOS_DO_NOT_MIX,\n        playsInSilentModeIOS: true,\n        shouldDuckAndroid: true,\n        interruptionModeAndroid: Audio.INTERRUPTION_MODE_ANDROID_DO_NOT_MIX,\n        playThroughEarpieceAndroid: false\n      });\n\n      (function _callee5() {\n        return _regeneratorRuntime.async(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return _regeneratorRuntime.awrap(Font.loadAsync(_objectSpread(_objectSpread({}, MaterialIcons.font), {}, {\n                  \"cutive-mono-regular\": require(\"./assets/fonts/CutiveMono-Regular.ttf\")\n                })));\n\n              case 2:\n                _this2.setState({\n                  fontLoaded: true\n                });\n\n              case 3:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      })();\n    }\n  }, {\n    key: \"_loadNewPlaybackInstance\",\n    value: function _loadNewPlaybackInstance(playing) {\n      var source, initialStatus, status, _await$Audio$Sound$cr, sound, _status;\n\n      return _regeneratorRuntime.async(function _loadNewPlaybackInstance$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              if (!(this.playbackInstance != null)) {\n                _context6.next = 4;\n                break;\n              }\n\n              _context6.next = 3;\n              return _regeneratorRuntime.awrap(this.playbackInstance.unloadAsync());\n\n            case 3:\n              this.playbackInstance = null;\n\n            case 4:\n              source = {\n                uri: PLAYLIST[this.index].uri\n              };\n              initialStatus = {\n                shouldPlay: playing,\n                rate: this.state.rate,\n                shouldCorrectPitch: this.state.shouldCorrectPitch,\n                volume: this.state.volume,\n                isMuted: this.state.muted,\n                isLooping: this.state.loopingType === LOOPING_TYPE_ONE\n              };\n\n              if (!PLAYLIST[this.index].isVideo) {\n                _context6.next = 16;\n                break;\n              }\n\n              console.log(this._onPlaybackStatusUpdate);\n              _context6.next = 10;\n              return _regeneratorRuntime.awrap(this._video.loadAsync(source, initialStatus));\n\n            case 10:\n              this.playbackInstance = this._video;\n              _context6.next = 13;\n              return _regeneratorRuntime.awrap(this._video.getStatusAsync());\n\n            case 13:\n              status = _context6.sent;\n              _context6.next = 22;\n              break;\n\n            case 16:\n              _context6.next = 18;\n              return _regeneratorRuntime.awrap(Audio.Sound.createAsync(source, initialStatus, this._onPlaybackStatusUpdate));\n\n            case 18:\n              _await$Audio$Sound$cr = _context6.sent;\n              sound = _await$Audio$Sound$cr.sound;\n              _status = _await$Audio$Sound$cr.status;\n              this.playbackInstance = sound;\n\n            case 22:\n              this._updateScreenForLoading(false);\n\n            case 23:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"_updateScreenForLoading\",\n    value: function _updateScreenForLoading(isLoading) {\n      if (isLoading) {\n        this.setState({\n          showVideo: false,\n          isPlaying: false,\n          playbackInstanceName: LOADING_STRING,\n          playbackInstanceDuration: null,\n          playbackInstancePosition: null,\n          isLoading: true\n        });\n      } else {\n        this.setState({\n          playbackInstanceName: PLAYLIST[this.index].name,\n          showVideo: PLAYLIST[this.index].isVideo,\n          isLoading: false\n        });\n      }\n    }\n  }, {\n    key: \"_advanceIndex\",\n    value: function _advanceIndex(forward) {\n      this.index = (this.index + (forward ? 1 : PLAYLIST.length - 1)) % PLAYLIST.length;\n    }\n  }, {\n    key: \"_updatePlaybackInstanceForIndex\",\n    value: function _updatePlaybackInstanceForIndex(playing) {\n      return _regeneratorRuntime.async(function _updatePlaybackInstanceForIndex$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              this._updateScreenForLoading(true);\n\n              this.setState({\n                videoWidth: DEVICE_WIDTH,\n                videoHeight: VIDEO_CONTAINER_HEIGHT\n              });\n\n              this._loadNewPlaybackInstance(playing);\n\n            case 3:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"_getSeekSliderPosition\",\n    value: function _getSeekSliderPosition() {\n      if (this.playbackInstance != null && this.state.playbackInstancePosition != null && this.state.playbackInstanceDuration != null) {\n        return this.state.playbackInstancePosition / this.state.playbackInstanceDuration;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"_getMMSSFromMillis\",\n    value: function _getMMSSFromMillis(millis) {\n      var totalSeconds = millis / 1000;\n      var seconds = Math.floor(totalSeconds % 60);\n      var minutes = Math.floor(totalSeconds / 60);\n\n      var padWithZero = function padWithZero(number) {\n        var string = number.toString();\n\n        if (number < 10) {\n          return \"0\" + string;\n        }\n\n        return string;\n      };\n\n      return padWithZero(minutes) + \":\" + padWithZero(seconds);\n    }\n  }, {\n    key: \"_getTimestamp\",\n    value: function _getTimestamp() {\n      if (this.playbackInstance != null && this.state.playbackInstancePosition != null && this.state.playbackInstanceDuration != null) {\n        return this._getMMSSFromMillis(this.state.playbackInstancePosition) + \" / \" + this._getMMSSFromMillis(this.state.playbackInstanceDuration);\n      }\n\n      return \"\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return !this.state.fontLoaded ? React.createElement(View, {\n        style: styles.emptyContainer\n      }) : React.createElement(View, {\n        style: styles.container\n      }, React.createElement(View, null), React.createElement(View, {\n        style: styles.nameContainer\n      }, React.createElement(Text, {\n        style: [styles.text, {\n          fontFamily: \"cutive-mono-regular\"\n        }]\n      }, this.state.playbackInstanceName)), React.createElement(View, {\n        style: styles.space\n      }), React.createElement(View, {\n        style: styles.videoContainer\n      }, React.createElement(Video, {\n        ref: this._mountVideo,\n        style: [styles.video, {\n          opacity: this.state.showVideo ? 1.0 : 0.0,\n          width: this.state.videoWidth,\n          height: this.state.videoHeight\n        }],\n        resizeMode: Video.RESIZE_MODE_CONTAIN,\n        onPlaybackStatusUpdate: this._onPlaybackStatusUpdate,\n        onLoadStart: this._onLoadStart,\n        onLoad: this._onLoad,\n        onError: this._onError,\n        onFullscreenUpdate: this._onFullscreenUpdate,\n        onReadyForDisplay: this._onReadyForDisplay,\n        useNativeControls: this.state.useNativeControls\n      })), React.createElement(View, {\n        style: [styles.playbackContainer, {\n          opacity: this.state.isLoading ? DISABLED_OPACITY : 1.0\n        }]\n      }, React.createElement(Slider, {\n        style: styles.playbackSlider,\n        trackImage: ICON_TRACK_1.module,\n        thumbImage: ICON_THUMB_1.module,\n        value: this._getSeekSliderPosition(),\n        onValueChange: this._onSeekSliderValueChange,\n        onSlidingComplete: this._onSeekSliderSlidingComplete,\n        disabled: this.state.isLoading\n      }), React.createElement(View, {\n        style: styles.timestampRow\n      }, React.createElement(Text, {\n        style: [styles.text, styles.buffering, {\n          fontFamily: \"cutive-mono-regular\"\n        }]\n      }, this.state.isBuffering ? BUFFERING_STRING : \"\"), React.createElement(Text, {\n        style: [styles.text, styles.timestamp, {\n          fontFamily: \"cutive-mono-regular\"\n        }]\n      }, this._getTimestamp()))), React.createElement(View, {\n        style: [styles.buttonsContainerBase, styles.buttonsContainerTopRow, {\n          opacity: this.state.isLoading ? DISABLED_OPACITY : 1.0\n        }]\n      }, React.createElement(TouchableHighlight, {\n        underlayColor: BACKGROUND_COLOR,\n        style: styles.wrapper,\n        onPress: this._onBackPressed,\n        disabled: this.state.isLoading\n      }, React.createElement(Image, {\n        style: styles.button,\n        source: ICON_BACK_BUTTON.module\n      })), React.createElement(TouchableHighlight, {\n        underlayColor: BACKGROUND_COLOR,\n        style: styles.wrapper,\n        onPress: this._onPlayPausePressed,\n        disabled: this.state.isLoading\n      }, React.createElement(Image, {\n        style: styles.button,\n        source: this.state.isPlaying ? ICON_PAUSE_BUTTON.module : ICON_PLAY_BUTTON.module\n      })), React.createElement(TouchableHighlight, {\n        underlayColor: BACKGROUND_COLOR,\n        style: styles.wrapper,\n        onPress: this._onStopPressed,\n        disabled: this.state.isLoading\n      }, React.createElement(Image, {\n        style: styles.button,\n        source: ICON_STOP_BUTTON.module\n      })), React.createElement(TouchableHighlight, {\n        underlayColor: BACKGROUND_COLOR,\n        style: styles.wrapper,\n        onPress: this._onForwardPressed,\n        disabled: this.state.isLoading\n      }, React.createElement(Image, {\n        style: styles.button,\n        source: ICON_FORWARD_BUTTON.module\n      }))), React.createElement(View, {\n        style: [styles.buttonsContainerBase, styles.buttonsContainerMiddleRow]\n      }, React.createElement(View, {\n        style: styles.volumeContainer\n      }, React.createElement(TouchableHighlight, {\n        underlayColor: BACKGROUND_COLOR,\n        style: styles.wrapper,\n        onPress: this._onMutePressed\n      }, React.createElement(Image, {\n        style: styles.button,\n        source: this.state.muted ? ICON_MUTED_BUTTON.module : ICON_UNMUTED_BUTTON.module\n      })), React.createElement(Slider, {\n        style: styles.volumeSlider,\n        trackImage: ICON_TRACK_1.module,\n        thumbImage: ICON_THUMB_2.module,\n        value: 1,\n        onValueChange: this._onVolumeSliderValueChange\n      })), React.createElement(TouchableHighlight, {\n        underlayColor: BACKGROUND_COLOR,\n        style: styles.wrapper,\n        onPress: this._onLoopPressed\n      }, React.createElement(Image, {\n        style: styles.button,\n        source: LOOPING_TYPE_ICONS[this.state.loopingType].module\n      }))), React.createElement(View, {\n        style: [styles.buttonsContainerBase, styles.buttonsContainerBottomRow]\n      }, React.createElement(TouchableHighlight, {\n        underlayColor: BACKGROUND_COLOR,\n        style: styles.wrapper,\n        onPress: function onPress() {\n          return _this3._trySetRate(1.0, _this3.state.shouldCorrectPitch);\n        }\n      }, React.createElement(View, {\n        style: styles.button\n      }, React.createElement(Text, {\n        style: [styles.text, {\n          fontFamily: \"cutive-mono-regular\"\n        }]\n      }, \"Rate:\"))), React.createElement(Slider, {\n        style: styles.rateSlider,\n        trackImage: ICON_TRACK_1.module,\n        thumbImage: ICON_THUMB_1.module,\n        value: this.state.rate / RATE_SCALE,\n        onSlidingComplete: this._onRateSliderSlidingComplete\n      }), React.createElement(TouchableHighlight, {\n        underlayColor: BACKGROUND_COLOR,\n        style: styles.wrapper,\n        onPress: this._onPitchCorrectionPressed\n      }, React.createElement(View, {\n        style: styles.button\n      }, React.createElement(Text, {\n        style: [styles.text, {\n          fontFamily: \"cutive-mono-regular\"\n        }]\n      }, \"PC: \", this.state.shouldCorrectPitch ? \"yes\" : \"no\"))), React.createElement(TouchableHighlight, {\n        onPress: this._onSpeakerPressed,\n        underlayColor: BACKGROUND_COLOR\n      }, React.createElement(MaterialIcons, {\n        name: this.state.throughEarpiece ? ICON_THROUGH_EARPIECE : ICON_THROUGH_SPEAKER,\n        size: 32,\n        color: \"black\"\n      }))), React.createElement(View, null), this.state.showVideo ? React.createElement(View, null, React.createElement(View, {\n        style: [styles.buttonsContainerBase, styles.buttonsContainerTextRow]\n      }, React.createElement(View, null), React.createElement(TouchableHighlight, {\n        underlayColor: BACKGROUND_COLOR,\n        style: styles.wrapper,\n        onPress: this._onPosterPressed\n      }, React.createElement(View, {\n        style: styles.button\n      }, React.createElement(Text, {\n        style: [styles.text, {\n          fontFamily: \"cutive-mono-regular\"\n        }]\n      }, \"Poster: \", this.state.poster ? \"yes\" : \"no\"))), React.createElement(View, null), React.createElement(TouchableHighlight, {\n        underlayColor: BACKGROUND_COLOR,\n        style: styles.wrapper,\n        onPress: this._onFullscreenPressed\n      }, React.createElement(View, {\n        style: styles.button\n      }, React.createElement(Text, {\n        style: [styles.text, {\n          fontFamily: \"cutive-mono-regular\"\n        }]\n      }, \"Fullscreen\"))), React.createElement(View, null)), React.createElement(View, {\n        style: styles.space\n      }), React.createElement(View, {\n        style: [styles.buttonsContainerBase, styles.buttonsContainerTextRow]\n      }, React.createElement(View, null), React.createElement(TouchableHighlight, {\n        underlayColor: BACKGROUND_COLOR,\n        style: styles.wrapper,\n        onPress: this._onUseNativeControlsPressed\n      }, React.createElement(View, {\n        style: styles.button\n      }, React.createElement(Text, {\n        style: [styles.text, {\n          fontFamily: \"cutive-mono-regular\"\n        }]\n      }, \"Native Controls:\", \" \", this.state.useNativeControls ? \"yes\" : \"no\"))), React.createElement(View, null))) : null);\n    }\n  }]);\n\n  return Track;\n}(React.Component);\n\nexport { Track as default };\nvar styles = StyleSheet.create({\n  emptyContainer: {\n    alignSelf: \"stretch\",\n    backgroundColor: BACKGROUND_COLOR\n  },\n  container: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    alignSelf: \"stretch\",\n    backgroundColor: BACKGROUND_COLOR\n  },\n  wrapper: {},\n  nameContainer: {\n    height: FONT_SIZE\n  },\n  space: {\n    height: FONT_SIZE\n  },\n  videoContainer: {\n    height: VIDEO_CONTAINER_HEIGHT\n  },\n  video: {\n    maxWidth: DEVICE_WIDTH\n  },\n  playbackContainer: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    alignSelf: \"stretch\",\n    minHeight: ICON_THUMB_1.height * 2.0,\n    maxHeight: ICON_THUMB_1.height * 2.0\n  },\n  playbackSlider: {\n    alignSelf: \"stretch\"\n  },\n  timestampRow: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    alignSelf: \"stretch\",\n    minHeight: FONT_SIZE\n  },\n  text: {\n    fontSize: FONT_SIZE,\n    minHeight: FONT_SIZE\n  },\n  buffering: {\n    textAlign: \"left\",\n    paddingLeft: 20\n  },\n  timestamp: {\n    textAlign: \"right\",\n    paddingRight: 20\n  },\n  button: {\n    backgroundColor: BACKGROUND_COLOR\n  },\n  buttonsContainerBase: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  buttonsContainerTopRow: {\n    maxHeight: ICON_PLAY_BUTTON.height,\n    minWidth: DEVICE_WIDTH / 2.0,\n    maxWidth: DEVICE_WIDTH / 2.0\n  },\n  buttonsContainerMiddleRow: {\n    maxHeight: ICON_MUTED_BUTTON.height,\n    alignSelf: \"stretch\",\n    paddingRight: 20\n  },\n  volumeContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    minWidth: DEVICE_WIDTH / 2.0,\n    maxWidth: DEVICE_WIDTH / 2.0\n  },\n  volumeSlider: {\n    width: DEVICE_WIDTH / 2.0 - ICON_MUTED_BUTTON.width\n  },\n  buttonsContainerBottomRow: {\n    maxHeight: ICON_THUMB_1.height,\n    alignSelf: \"stretch\",\n    paddingRight: 20,\n    paddingLeft: 20\n  },\n  rateSlider: {\n    width: DEVICE_WIDTH / 2.0\n  },\n  buttonsContainerTextRow: {\n    maxHeight: FONT_SIZE,\n    alignItems: \"center\",\n    paddingRight: 20,\n    paddingLeft: 20,\n    minWidth: DEVICE_WIDTH,\n    maxWidth: DEVICE_WIDTH\n  }\n});","map":{"version":3,"sources":["/home/software/work/Challenge/track.js"],"names":["React","Slider","Asset","Audio","Video","Font","MaterialIcons","Icon","module","width","height","fromModule","downloadAsync","PlaylistItem","name","uri","isVideo","PLAYLIST","ICON_THROUGH_EARPIECE","ICON_THROUGH_SPEAKER","ICON_PLAY_BUTTON","require","ICON_PAUSE_BUTTON","ICON_STOP_BUTTON","ICON_FORWARD_BUTTON","ICON_BACK_BUTTON","ICON_LOOP_ALL_BUTTON","ICON_LOOP_ONE_BUTTON","ICON_MUTED_BUTTON","ICON_UNMUTED_BUTTON","ICON_TRACK_1","ICON_THUMB_1","ICON_THUMB_2","LOOPING_TYPE_ALL","LOOPING_TYPE_ONE","LOOPING_TYPE_ICONS","Dimensions","get","DEVICE_WIDTH","DEVICE_HEIGHT","BACKGROUND_COLOR","DISABLED_OPACITY","FONT_SIZE","LOADING_STRING","BUFFERING_STRING","RATE_SCALE","VIDEO_CONTAINER_HEIGHT","Track","props","_mountVideo","component","_video","_loadNewPlaybackInstance","_onPlaybackStatusUpdate","status","isLoaded","setState","playbackInstancePosition","positionMillis","playbackInstanceDuration","durationMillis","shouldPlay","isPlaying","isBuffering","rate","muted","isMuted","volume","loopingType","isLooping","shouldCorrectPitch","didJustFinish","_advanceIndex","_updatePlaybackInstanceForIndex","error","console","log","_onLoadStart","_onLoad","JSON","stringify","_onError","_onReadyForDisplay","event","widestHeight","naturalSize","videoWidth","videoHeight","_onFullscreenUpdate","fullscreenUpdate","_onPlayPausePressed","playbackInstance","state","pauseAsync","playAsync","_onStopPressed","stopAsync","_onForwardPressed","_onBackPressed","_onMutePressed","setIsMutedAsync","_onLoopPressed","setIsLoopingAsync","_onVolumeSliderValueChange","value","setVolumeAsync","_trySetRate","setRateAsync","_onRateSliderSlidingComplete","_onPitchCorrectionPressed","_onSeekSliderValueChange","isSeeking","shouldPlayAtEndOfSeek","_onSeekSliderSlidingComplete","seekPosition","playFromPositionAsync","setPositionAsync","_onPosterPressed","poster","_onUseNativeControlsPressed","useNativeControls","_onFullscreenPressed","presentFullscreenPlayer","toString","_onSpeakerPressed","throughEarpiece","setAudioModeAsync","allowsRecordingIOS","interruptionModeIOS","INTERRUPTION_MODE_IOS_DO_NOT_MIX","playsInSilentModeIOS","shouldDuckAndroid","interruptionModeAndroid","INTERRUPTION_MODE_ANDROID_DO_NOT_MIX","playThroughEarpieceAndroid","index","showVideo","playbackInstanceName","isLoading","fontLoaded","fullscreen","staysActiveInBackground","loadAsync","font","playing","unloadAsync","source","initialStatus","getStatusAsync","Sound","createAsync","sound","_updateScreenForLoading","forward","length","millis","totalSeconds","seconds","Math","floor","minutes","padWithZero","number","string","_getMMSSFromMillis","styles","emptyContainer","container","nameContainer","text","fontFamily","space","videoContainer","video","opacity","RESIZE_MODE_CONTAIN","playbackContainer","playbackSlider","_getSeekSliderPosition","timestampRow","buffering","timestamp","_getTimestamp","buttonsContainerBase","buttonsContainerTopRow","wrapper","button","buttonsContainerMiddleRow","volumeContainer","volumeSlider","buttonsContainerBottomRow","rateSlider","buttonsContainerTextRow","Component","StyleSheet","create","alignSelf","backgroundColor","flex","flexDirection","justifyContent","alignItems","maxWidth","minHeight","maxHeight","fontSize","textAlign","paddingLeft","paddingRight","minWidth"],"mappings":"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","sourcesContent":["/**\n * @flow\n */\n\nimport React from \"react\";\nimport {\n  Dimensions,\n  Image,\n  Slider,\n  StyleSheet,\n  Text,\n  TouchableHighlight,\n  View,\n} from \"react-native\";\nimport { Asset } from \"expo-asset\";\nimport { Audio, Video } from \"expo-av\";\nimport * as Font from \"expo-font\";\n\nimport { MaterialIcons } from \"@expo/vector-icons\";\n\nclass Icon {\n  constructor(module, width, height) {\n    this.module = module;\n    this.width = width;\n    this.height = height;\n    Asset.fromModule(this.module).downloadAsync();\n  }\n}\n\nclass PlaylistItem {\n  constructor(name, uri, isVideo) {\n    this.name = name;\n    this.uri = uri;\n    this.isVideo = isVideo;\n  }\n}\n\nconst PLAYLIST = [\n  new PlaylistItem(\n    \"Comfort Fit - “Sorry”\",\n    \"https://www.naijavibes.com/wp-content/uploads/2020/09/Tems-Damages.mp3?_=1\",\n    false\n  ),\n];\n\nconst ICON_THROUGH_EARPIECE = \"speaker-phone\";\nconst ICON_THROUGH_SPEAKER = \"speaker\";\n\nconst ICON_PLAY_BUTTON = new Icon(\n  require(\"./assets/images/play_button.png\"),\n  34,\n  51\n);\nconst ICON_PAUSE_BUTTON = new Icon(\n  require(\"./assets/images/pause_button.png\"),\n  34,\n  51\n);\nconst ICON_STOP_BUTTON = new Icon(\n  require(\"./assets/images/stop_button.png\"),\n  22,\n  22\n);\nconst ICON_FORWARD_BUTTON = new Icon(\n  require(\"./assets/images/forward_button.png\"),\n  33,\n  25\n);\nconst ICON_BACK_BUTTON = new Icon(\n  require(\"./assets/images/back_button.png\"),\n  33,\n  25\n);\n\nconst ICON_LOOP_ALL_BUTTON = new Icon(\n  require(\"./assets/images/loop_all_button.png\"),\n  77,\n  35\n);\nconst ICON_LOOP_ONE_BUTTON = new Icon(\n  require(\"./assets/images/loop_one_button.png\"),\n  77,\n  35\n);\n\nconst ICON_MUTED_BUTTON = new Icon(\n  require(\"./assets/images/muted_button.png\"),\n  67,\n  58\n);\nconst ICON_UNMUTED_BUTTON = new Icon(\n  require(\"./assets/images/unmuted_button.png\"),\n  67,\n  58\n);\n\nconst ICON_TRACK_1 = new Icon(require(\"./assets/images/track_1.png\"), 166, 5);\nconst ICON_THUMB_1 = new Icon(require(\"./assets/images/thumb_1.png\"), 18, 19);\nconst ICON_THUMB_2 = new Icon(require(\"./assets/images/thumb_2.png\"), 15, 19);\n\nconst LOOPING_TYPE_ALL = 0;\nconst LOOPING_TYPE_ONE = 1;\nconst LOOPING_TYPE_ICONS = { 0: ICON_LOOP_ALL_BUTTON, 1: ICON_LOOP_ONE_BUTTON };\n\nconst { width: DEVICE_WIDTH, height: DEVICE_HEIGHT } = Dimensions.get(\"window\");\nconst BACKGROUND_COLOR = \"#FFF8ED\";\nconst DISABLED_OPACITY = 0.5;\nconst FONT_SIZE = 14;\nconst LOADING_STRING = \"... loading ...\";\nconst BUFFERING_STRING = \"...buffering...\";\nconst RATE_SCALE = 3.0;\nconst VIDEO_CONTAINER_HEIGHT = (DEVICE_HEIGHT * 2.0) / 5.0 - FONT_SIZE * 2;\n\nexport default class Track extends React.Component {\n  constructor(props) {\n    super(props);\n    this.index = 0;\n    this.isSeeking = false;\n    this.shouldPlayAtEndOfSeek = false;\n    this.playbackInstance = null;\n    this.state = {\n      showVideo: false,\n      playbackInstanceName: LOADING_STRING,\n      loopingType: LOOPING_TYPE_ALL,\n      muted: false,\n      playbackInstancePosition: null,\n      playbackInstanceDuration: null,\n      shouldPlay: false,\n      isPlaying: false,\n      isBuffering: false,\n      isLoading: true,\n      fontLoaded: false,\n      shouldCorrectPitch: true,\n      volume: 1.0,\n      rate: 1.0,\n      videoWidth: DEVICE_WIDTH,\n      videoHeight: VIDEO_CONTAINER_HEIGHT,\n      poster: false,\n      useNativeControls: false,\n      fullscreen: false,\n      throughEarpiece: false,\n    };\n  }\n\n  componentDidMount() {\n    Audio.setAudioModeAsync({\n      allowsRecordingIOS: false,\n      staysActiveInBackground: true,\n      interruptionModeIOS: Audio.INTERRUPTION_MODE_IOS_DO_NOT_MIX,\n      playsInSilentModeIOS: true,\n      shouldDuckAndroid: true,\n      interruptionModeAndroid: Audio.INTERRUPTION_MODE_ANDROID_DO_NOT_MIX,\n      playThroughEarpieceAndroid: false,\n    });\n    (async () => {\n      await Font.loadAsync({\n        ...MaterialIcons.font,\n        \"cutive-mono-regular\": require(\"./assets/fonts/CutiveMono-Regular.ttf\"),\n      });\n      this.setState({ fontLoaded: true });\n    })();\n  }\n\n  async _loadNewPlaybackInstance(playing) {\n    if (this.playbackInstance != null) {\n      await this.playbackInstance.unloadAsync();\n      // this.playbackInstance.setOnPlaybackStatusUpdate(null);\n      this.playbackInstance = null;\n    }\n\n    const source = { uri: PLAYLIST[this.index].uri };\n    const initialStatus = {\n      shouldPlay: playing,\n      rate: this.state.rate,\n      shouldCorrectPitch: this.state.shouldCorrectPitch,\n      volume: this.state.volume,\n      isMuted: this.state.muted,\n      isLooping: this.state.loopingType === LOOPING_TYPE_ONE,\n      // // UNCOMMENT THIS TO TEST THE OLD androidImplementation:\n      // androidImplementation: 'MediaPlayer',\n    };\n\n    if (PLAYLIST[this.index].isVideo) {\n      console.log(this._onPlaybackStatusUpdate);\n      await this._video.loadAsync(source, initialStatus);\n      // this._video.onPlaybackStatusUpdate(this._onPlaybackStatusUpdate);\n      this.playbackInstance = this._video;\n      const status = await this._video.getStatusAsync();\n    } else {\n      const { sound, status } = await Audio.Sound.createAsync(\n        source,\n        initialStatus,\n        this._onPlaybackStatusUpdate\n      );\n      this.playbackInstance = sound;\n    }\n\n    this._updateScreenForLoading(false);\n  }\n\n  _mountVideo = (component) => {\n    this._video = component;\n    this._loadNewPlaybackInstance(false);\n  };\n\n  _updateScreenForLoading(isLoading) {\n    if (isLoading) {\n      this.setState({\n        showVideo: false,\n        isPlaying: false,\n        playbackInstanceName: LOADING_STRING,\n        playbackInstanceDuration: null,\n        playbackInstancePosition: null,\n        isLoading: true,\n      });\n    } else {\n      this.setState({\n        playbackInstanceName: PLAYLIST[this.index].name,\n        showVideo: PLAYLIST[this.index].isVideo,\n        isLoading: false,\n      });\n    }\n  }\n\n  _onPlaybackStatusUpdate = (status) => {\n    if (status.isLoaded) {\n      this.setState({\n        playbackInstancePosition: status.positionMillis,\n        playbackInstanceDuration: status.durationMillis,\n        shouldPlay: status.shouldPlay,\n        isPlaying: status.isPlaying,\n        isBuffering: status.isBuffering,\n        rate: status.rate,\n        muted: status.isMuted,\n        volume: status.volume,\n        loopingType: status.isLooping ? LOOPING_TYPE_ONE : LOOPING_TYPE_ALL,\n        shouldCorrectPitch: status.shouldCorrectPitch,\n      });\n      if (status.didJustFinish && !status.isLooping) {\n        this._advanceIndex(true);\n        this._updatePlaybackInstanceForIndex(true);\n      }\n    } else {\n      if (status.error) {\n        console.log(`FATAL PLAYER ERROR: ${status.error}`);\n      }\n    }\n  };\n\n  _onLoadStart = () => {\n    console.log(`ON LOAD START`);\n  };\n\n  _onLoad = (status) => {\n    console.log(`ON LOAD : ${JSON.stringify(status)}`);\n  };\n\n  _onError = (error) => {\n    console.log(`ON ERROR : ${error}`);\n  };\n\n  _onReadyForDisplay = (event) => {\n    const widestHeight =\n      (DEVICE_WIDTH * event.naturalSize.height) / event.naturalSize.width;\n    if (widestHeight > VIDEO_CONTAINER_HEIGHT) {\n      this.setState({\n        videoWidth:\n          (VIDEO_CONTAINER_HEIGHT * event.naturalSize.width) /\n          event.naturalSize.height,\n        videoHeight: VIDEO_CONTAINER_HEIGHT,\n      });\n    } else {\n      this.setState({\n        videoWidth: DEVICE_WIDTH,\n        videoHeight:\n          (DEVICE_WIDTH * event.naturalSize.height) / event.naturalSize.width,\n      });\n    }\n  };\n\n  _onFullscreenUpdate = (event) => {\n    console.log(\n      `FULLSCREEN UPDATE : ${JSON.stringify(event.fullscreenUpdate)}`\n    );\n  };\n\n  _advanceIndex(forward) {\n    this.index =\n      (this.index + (forward ? 1 : PLAYLIST.length - 1)) % PLAYLIST.length;\n  }\n\n  async _updatePlaybackInstanceForIndex(playing) {\n    this._updateScreenForLoading(true);\n\n    this.setState({\n      videoWidth: DEVICE_WIDTH,\n      videoHeight: VIDEO_CONTAINER_HEIGHT,\n    });\n\n    this._loadNewPlaybackInstance(playing);\n  }\n\n  _onPlayPausePressed = () => {\n    if (this.playbackInstance != null) {\n      if (this.state.isPlaying) {\n        this.playbackInstance.pauseAsync();\n      } else {\n        this.playbackInstance.playAsync();\n      }\n    }\n  };\n\n  _onStopPressed = () => {\n    if (this.playbackInstance != null) {\n      this.playbackInstance.stopAsync();\n    }\n  };\n\n  _onForwardPressed = () => {\n    if (this.playbackInstance != null) {\n      this._advanceIndex(true);\n      this._updatePlaybackInstanceForIndex(this.state.shouldPlay);\n    }\n  };\n\n  _onBackPressed = () => {\n    if (this.playbackInstance != null) {\n      this._advanceIndex(false);\n      this._updatePlaybackInstanceForIndex(this.state.shouldPlay);\n    }\n  };\n\n  _onMutePressed = () => {\n    if (this.playbackInstance != null) {\n      this.playbackInstance.setIsMutedAsync(!this.state.muted);\n    }\n  };\n\n  _onLoopPressed = () => {\n    if (this.playbackInstance != null) {\n      this.playbackInstance.setIsLoopingAsync(\n        this.state.loopingType !== LOOPING_TYPE_ONE\n      );\n    }\n  };\n\n  _onVolumeSliderValueChange = (value) => {\n    if (this.playbackInstance != null) {\n      this.playbackInstance.setVolumeAsync(value);\n    }\n  };\n\n  _trySetRate = async (rate, shouldCorrectPitch) => {\n    if (this.playbackInstance != null) {\n      try {\n        await this.playbackInstance.setRateAsync(rate, shouldCorrectPitch);\n      } catch (error) {\n        // Rate changing could not be performed, possibly because the client's Android API is too old.\n      }\n    }\n  };\n\n  _onRateSliderSlidingComplete = async (value) => {\n    this._trySetRate(value * RATE_SCALE, this.state.shouldCorrectPitch);\n  };\n\n  _onPitchCorrectionPressed = async (value) => {\n    this._trySetRate(this.state.rate, !this.state.shouldCorrectPitch);\n  };\n\n  _onSeekSliderValueChange = (value) => {\n    if (this.playbackInstance != null && !this.isSeeking) {\n      this.isSeeking = true;\n      this.shouldPlayAtEndOfSeek = this.state.shouldPlay;\n      this.playbackInstance.pauseAsync();\n    }\n  };\n\n  _onSeekSliderSlidingComplete = async (value) => {\n    if (this.playbackInstance != null) {\n      this.isSeeking = false;\n      const seekPosition = value * this.state.playbackInstanceDuration;\n      if (this.shouldPlayAtEndOfSeek) {\n        this.playbackInstance.playFromPositionAsync(seekPosition);\n      } else {\n        this.playbackInstance.setPositionAsync(seekPosition);\n      }\n    }\n  };\n\n  _getSeekSliderPosition() {\n    if (\n      this.playbackInstance != null &&\n      this.state.playbackInstancePosition != null &&\n      this.state.playbackInstanceDuration != null\n    ) {\n      return (\n        this.state.playbackInstancePosition /\n        this.state.playbackInstanceDuration\n      );\n    }\n    return 0;\n  }\n\n  _getMMSSFromMillis(millis) {\n    const totalSeconds = millis / 1000;\n    const seconds = Math.floor(totalSeconds % 60);\n    const minutes = Math.floor(totalSeconds / 60);\n\n    const padWithZero = (number) => {\n      const string = number.toString();\n      if (number < 10) {\n        return \"0\" + string;\n      }\n      return string;\n    };\n    return padWithZero(minutes) + \":\" + padWithZero(seconds);\n  }\n\n  _getTimestamp() {\n    if (\n      this.playbackInstance != null &&\n      this.state.playbackInstancePosition != null &&\n      this.state.playbackInstanceDuration != null\n    ) {\n      return `${this._getMMSSFromMillis(\n        this.state.playbackInstancePosition\n      )} / ${this._getMMSSFromMillis(this.state.playbackInstanceDuration)}`;\n    }\n    return \"\";\n  }\n\n  _onPosterPressed = () => {\n    this.setState({ poster: !this.state.poster });\n  };\n\n  _onUseNativeControlsPressed = () => {\n    this.setState({ useNativeControls: !this.state.useNativeControls });\n  };\n\n  _onFullscreenPressed = () => {\n    try {\n      this._video.presentFullscreenPlayer();\n    } catch (error) {\n      console.log(error.toString());\n    }\n  };\n\n  _onSpeakerPressed = () => {\n    this.setState(\n      (state) => {\n        return { throughEarpiece: !state.throughEarpiece };\n      },\n      ({ throughEarpiece }) =>\n        Audio.setAudioModeAsync({\n          allowsRecordingIOS: false,\n          interruptionModeIOS: Audio.INTERRUPTION_MODE_IOS_DO_NOT_MIX,\n          playsInSilentModeIOS: true,\n          shouldDuckAndroid: true,\n          interruptionModeAndroid: Audio.INTERRUPTION_MODE_ANDROID_DO_NOT_MIX,\n          playThroughEarpieceAndroid: throughEarpiece,\n        })\n    );\n  };\n\n  render() {\n    return !this.state.fontLoaded ? (\n      <View style={styles.emptyContainer} />\n    ) : (\n      <View style={styles.container}>\n        <View />\n        <View style={styles.nameContainer}>\n          <Text style={[styles.text, { fontFamily: \"cutive-mono-regular\" }]}>\n            {this.state.playbackInstanceName}\n          </Text>\n        </View>\n        <View style={styles.space} />\n        <View style={styles.videoContainer}>\n          <Video\n            ref={this._mountVideo}\n            style={[\n              styles.video,\n              {\n                opacity: this.state.showVideo ? 1.0 : 0.0,\n                width: this.state.videoWidth,\n                height: this.state.videoHeight,\n              },\n            ]}\n            resizeMode={Video.RESIZE_MODE_CONTAIN}\n            onPlaybackStatusUpdate={this._onPlaybackStatusUpdate}\n            onLoadStart={this._onLoadStart}\n            onLoad={this._onLoad}\n            onError={this._onError}\n            onFullscreenUpdate={this._onFullscreenUpdate}\n            onReadyForDisplay={this._onReadyForDisplay}\n            useNativeControls={this.state.useNativeControls}\n          />\n        </View>\n        <View\n          style={[\n            styles.playbackContainer,\n            {\n              opacity: this.state.isLoading ? DISABLED_OPACITY : 1.0,\n            },\n          ]}\n        >\n          <Slider\n            style={styles.playbackSlider}\n            trackImage={ICON_TRACK_1.module}\n            thumbImage={ICON_THUMB_1.module}\n            value={this._getSeekSliderPosition()}\n            onValueChange={this._onSeekSliderValueChange}\n            onSlidingComplete={this._onSeekSliderSlidingComplete}\n            disabled={this.state.isLoading}\n          />\n          <View style={styles.timestampRow}>\n            <Text\n              style={[\n                styles.text,\n                styles.buffering,\n                { fontFamily: \"cutive-mono-regular\" },\n              ]}\n            >\n              {this.state.isBuffering ? BUFFERING_STRING : \"\"}\n            </Text>\n            <Text\n              style={[\n                styles.text,\n                styles.timestamp,\n                { fontFamily: \"cutive-mono-regular\" },\n              ]}\n            >\n              {this._getTimestamp()}\n            </Text>\n          </View>\n        </View>\n        <View\n          style={[\n            styles.buttonsContainerBase,\n            styles.buttonsContainerTopRow,\n            {\n              opacity: this.state.isLoading ? DISABLED_OPACITY : 1.0,\n            },\n          ]}\n        >\n          <TouchableHighlight\n            underlayColor={BACKGROUND_COLOR}\n            style={styles.wrapper}\n            onPress={this._onBackPressed}\n            disabled={this.state.isLoading}\n          >\n            <Image style={styles.button} source={ICON_BACK_BUTTON.module} />\n          </TouchableHighlight>\n          <TouchableHighlight\n            underlayColor={BACKGROUND_COLOR}\n            style={styles.wrapper}\n            onPress={this._onPlayPausePressed}\n            disabled={this.state.isLoading}\n          >\n            <Image\n              style={styles.button}\n              source={\n                this.state.isPlaying\n                  ? ICON_PAUSE_BUTTON.module\n                  : ICON_PLAY_BUTTON.module\n              }\n            />\n          </TouchableHighlight>\n          <TouchableHighlight\n            underlayColor={BACKGROUND_COLOR}\n            style={styles.wrapper}\n            onPress={this._onStopPressed}\n            disabled={this.state.isLoading}\n          >\n            <Image style={styles.button} source={ICON_STOP_BUTTON.module} />\n          </TouchableHighlight>\n          <TouchableHighlight\n            underlayColor={BACKGROUND_COLOR}\n            style={styles.wrapper}\n            onPress={this._onForwardPressed}\n            disabled={this.state.isLoading}\n          >\n            <Image style={styles.button} source={ICON_FORWARD_BUTTON.module} />\n          </TouchableHighlight>\n        </View>\n        <View\n          style={[\n            styles.buttonsContainerBase,\n            styles.buttonsContainerMiddleRow,\n          ]}\n        >\n          <View style={styles.volumeContainer}>\n            <TouchableHighlight\n              underlayColor={BACKGROUND_COLOR}\n              style={styles.wrapper}\n              onPress={this._onMutePressed}\n            >\n              <Image\n                style={styles.button}\n                source={\n                  this.state.muted\n                    ? ICON_MUTED_BUTTON.module\n                    : ICON_UNMUTED_BUTTON.module\n                }\n              />\n            </TouchableHighlight>\n            <Slider\n              style={styles.volumeSlider}\n              trackImage={ICON_TRACK_1.module}\n              thumbImage={ICON_THUMB_2.module}\n              value={1}\n              onValueChange={this._onVolumeSliderValueChange}\n            />\n          </View>\n          <TouchableHighlight\n            underlayColor={BACKGROUND_COLOR}\n            style={styles.wrapper}\n            onPress={this._onLoopPressed}\n          >\n            <Image\n              style={styles.button}\n              source={LOOPING_TYPE_ICONS[this.state.loopingType].module}\n            />\n          </TouchableHighlight>\n        </View>\n        <View\n          style={[\n            styles.buttonsContainerBase,\n            styles.buttonsContainerBottomRow,\n          ]}\n        >\n          <TouchableHighlight\n            underlayColor={BACKGROUND_COLOR}\n            style={styles.wrapper}\n            onPress={() => this._trySetRate(1.0, this.state.shouldCorrectPitch)}\n          >\n            <View style={styles.button}>\n              <Text\n                style={[styles.text, { fontFamily: \"cutive-mono-regular\" }]}\n              >\n                Rate:\n              </Text>\n            </View>\n          </TouchableHighlight>\n          <Slider\n            style={styles.rateSlider}\n            trackImage={ICON_TRACK_1.module}\n            thumbImage={ICON_THUMB_1.module}\n            value={this.state.rate / RATE_SCALE}\n            onSlidingComplete={this._onRateSliderSlidingComplete}\n          />\n          <TouchableHighlight\n            underlayColor={BACKGROUND_COLOR}\n            style={styles.wrapper}\n            onPress={this._onPitchCorrectionPressed}\n          >\n            <View style={styles.button}>\n              <Text\n                style={[styles.text, { fontFamily: \"cutive-mono-regular\" }]}\n              >\n                PC: {this.state.shouldCorrectPitch ? \"yes\" : \"no\"}\n              </Text>\n            </View>\n          </TouchableHighlight>\n          <TouchableHighlight\n            onPress={this._onSpeakerPressed}\n            underlayColor={BACKGROUND_COLOR}\n          >\n            <MaterialIcons\n              name={\n                this.state.throughEarpiece\n                  ? ICON_THROUGH_EARPIECE\n                  : ICON_THROUGH_SPEAKER\n              }\n              size={32}\n              color=\"black\"\n            />\n          </TouchableHighlight>\n        </View>\n        <View />\n        {this.state.showVideo ? (\n          <View>\n            <View\n              style={[\n                styles.buttonsContainerBase,\n                styles.buttonsContainerTextRow,\n              ]}\n            >\n              <View />\n              <TouchableHighlight\n                underlayColor={BACKGROUND_COLOR}\n                style={styles.wrapper}\n                onPress={this._onPosterPressed}\n              >\n                <View style={styles.button}>\n                  <Text\n                    style={[styles.text, { fontFamily: \"cutive-mono-regular\" }]}\n                  >\n                    Poster: {this.state.poster ? \"yes\" : \"no\"}\n                  </Text>\n                </View>\n              </TouchableHighlight>\n              <View />\n              <TouchableHighlight\n                underlayColor={BACKGROUND_COLOR}\n                style={styles.wrapper}\n                onPress={this._onFullscreenPressed}\n              >\n                <View style={styles.button}>\n                  <Text\n                    style={[styles.text, { fontFamily: \"cutive-mono-regular\" }]}\n                  >\n                    Fullscreen\n                  </Text>\n                </View>\n              </TouchableHighlight>\n              <View />\n            </View>\n            <View style={styles.space} />\n            <View\n              style={[\n                styles.buttonsContainerBase,\n                styles.buttonsContainerTextRow,\n              ]}\n            >\n              <View />\n              <TouchableHighlight\n                underlayColor={BACKGROUND_COLOR}\n                style={styles.wrapper}\n                onPress={this._onUseNativeControlsPressed}\n              >\n                <View style={styles.button}>\n                  <Text\n                    style={[styles.text, { fontFamily: \"cutive-mono-regular\" }]}\n                  >\n                    Native Controls:{\" \"}\n                    {this.state.useNativeControls ? \"yes\" : \"no\"}\n                  </Text>\n                </View>\n              </TouchableHighlight>\n              <View />\n            </View>\n          </View>\n        ) : null}\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  emptyContainer: {\n    alignSelf: \"stretch\",\n    backgroundColor: BACKGROUND_COLOR,\n  },\n  container: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    alignSelf: \"stretch\",\n    backgroundColor: BACKGROUND_COLOR,\n  },\n  wrapper: {},\n  nameContainer: {\n    height: FONT_SIZE,\n  },\n  space: {\n    height: FONT_SIZE,\n  },\n  videoContainer: {\n    height: VIDEO_CONTAINER_HEIGHT,\n  },\n  video: {\n    maxWidth: DEVICE_WIDTH,\n  },\n  playbackContainer: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    alignSelf: \"stretch\",\n    minHeight: ICON_THUMB_1.height * 2.0,\n    maxHeight: ICON_THUMB_1.height * 2.0,\n  },\n  playbackSlider: {\n    alignSelf: \"stretch\",\n  },\n  timestampRow: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    alignSelf: \"stretch\",\n    minHeight: FONT_SIZE,\n  },\n  text: {\n    fontSize: FONT_SIZE,\n    minHeight: FONT_SIZE,\n  },\n  buffering: {\n    textAlign: \"left\",\n    paddingLeft: 20,\n  },\n  timestamp: {\n    textAlign: \"right\",\n    paddingRight: 20,\n  },\n  button: {\n    backgroundColor: BACKGROUND_COLOR,\n  },\n  buttonsContainerBase: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n  buttonsContainerTopRow: {\n    maxHeight: ICON_PLAY_BUTTON.height,\n    minWidth: DEVICE_WIDTH / 2.0,\n    maxWidth: DEVICE_WIDTH / 2.0,\n  },\n  buttonsContainerMiddleRow: {\n    maxHeight: ICON_MUTED_BUTTON.height,\n    alignSelf: \"stretch\",\n    paddingRight: 20,\n  },\n  volumeContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    minWidth: DEVICE_WIDTH / 2.0,\n    maxWidth: DEVICE_WIDTH / 2.0,\n  },\n  volumeSlider: {\n    width: DEVICE_WIDTH / 2.0 - ICON_MUTED_BUTTON.width,\n  },\n  buttonsContainerBottomRow: {\n    maxHeight: ICON_THUMB_1.height,\n    alignSelf: \"stretch\",\n    paddingRight: 20,\n    paddingLeft: 20,\n  },\n  rateSlider: {\n    width: DEVICE_WIDTH / 2.0,\n  },\n  buttonsContainerTextRow: {\n    maxHeight: FONT_SIZE,\n    alignItems: \"center\",\n    paddingRight: 20,\n    paddingLeft: 20,\n    minWidth: DEVICE_WIDTH,\n    maxWidth: DEVICE_WIDTH,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}